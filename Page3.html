<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Live Cypher Battle</title>

  <link rel="stylesheet" href="page3.css">

  <!-- Firebase compat libraries (CDN) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

  <script>
    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyBKeMLeTpeKEzBQO30L3rHwXIBamJYkq9o",
      authDomain: "cypher-battle.firebaseapp.com",
      projectId: "cypher-battle",
      storageBucket: "cypher-battle.firebasestorage.app",
      messagingSenderId: "838565577806",
      appId: "1:838565577806:web:16368aebf4be46dc1e6f1f",
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();
  </script>
</head>
<body>
  <div class="background"></div>

  <div class="outer-wrap">
    <h1 class="title">Live Cypher Battle</h1>

    <!-- PREVIOUS WINNER -->
    <div id="prevWinnerBox" class="prev-winner hidden">
      <strong>Previous Winner:</strong>
      <span id="prevWinnerName"></span>
      <span id="prevWinnerDate" class="muted"></span>
    </div>

    <!-- CONTROL ROW -->
    <div class="control-row">
      <button id="startCycleBtn" class="ctrl-btn">Start Cypher</button>
      <div id="cycleInfo" class="cycle-info">No active cypher</div>
    </div>

    <!-- ROLE SELECTION -->
    <div class="role-row">
      <button id="btnRapper" class="role-btn">I'm Rapper</button>
      <button id="btnAudience" class="role-btn">I'm Audience</button>
    </div>

    <!-- RAPPER FORM -->
    <form id="rapperForm" class="info-form hidden">
      <h3>Rapper Registration</h3>
      <input id="stageName" placeholder="Stage Name (public)" required />
      <input id="realName" placeholder="Real Name" />
      <input id="rPhone" placeholder="Contact No" />
      <input id="rEmail" placeholder="Email" />
      <button type="submit" class="submit-btn">Submit as Rapper</button>
    </form>

    <!-- AUDIENCE FORM -->
    <form id="audienceForm" class="info-form hidden">
      <h3>Audience Registration</h3>
      <input id="aName" placeholder="Your Name" required />
      <input id="aPhone" placeholder="Contact No" />
      <input id="aEmail" placeholder="Email" />
      <button type="submit" class="submit-btn">Submit as Audience</button>
    </form>

    <!-- MAIN BOX -->
    <div id="mainBox" class="main-box">
      <div id="rapperList" class="rapper-list">
        <!-- rapper boxes injected by JS -->
      </div>

      <div id="leaderboard" class="leaderboard">
        <h3>Live Leaderboard</h3>
        <ol id="leaderboardList"></ol>
      </div>
    </div>

    <div class="note">Note: Har user har rapper ko ek baar per cycle vote de sakta hai. Cycle duration = 5 hours.</div>
  </div>

  <script src="page3.js"></script>
</body>
</html>
